{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <title>Sesame shop</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'styles/shared/general.css' %}">
    <link rel="stylesheet" href="{% static 'styles/shared/sesame-header.css' %}">
    <link rel="stylesheet" href="{% static 'styles/pages/sesame.css' %}">

    <link rel="stylesheet" href="{% static 'styles/pages/cart/cart-header.css' %}">
    <link rel="stylesheet" href="{% static 'styles/pages/login.css' %}">
    <link rel="stylesheet" href="{% static 'styles/pages/singup.css' %}">

    <link rel="stylesheet" href="{% static 'styles/pages/cart/cart-main.css' %}">
    <link rel="stylesheet" href="{% static 'styles/pages/produit-detail.css' %}">
    <link rel="stylesheet" href="{% static 'styles/pages/orders.css' %}">

    <link rel="stylesheet" href="{% static 'styles/shared/sesame-footer.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">

    <link rel="stylesheet" href="{% static 'styles/assistant.css' %}">

    <script type="text/javascript">
      var user = '{{request.user}}'

      function getToken(name) {
          var cookieValue = null;
          if (document.cookie && document.cookie !== '') {
              var cookies = document.cookie.split(';');
              for (var i = 0; i < cookies.length; i++) {
                  var cookie = cookies[i].trim();
                  // Does this cookie string begin with the name we want?
                  if (cookie.substring(0, name.length + 1) === (name + '=')) {
                      cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                      break;
                  }
              }
          }
          return cookieValue;
      }
      var csrftoken = getToken('csrftoken')

    </script>
  </head>
  <body>
    {% block alert %}
    {% endblock alert %}

    {% block header %}
    {% endblock header %}

    {% block message %}

    {% endblock message %}

    {% block content %}
    {% endblock content %}

    <button id="chat-toggle-button" class="chat-toggle-button">
      <img src="{% static 'images/img_6.png' %}" alt="Chat" class="chat-icon"> </button>

    <div id="chat-container" class="chat-container hidden">
      <div class="chat-header">
        <span>Sesame Assistant</span>
        <button id="close-chat-button" class="close-chat-button">&times;</button>
      </div>
      <div id="chat-box" class="chat-box"></div>
      <div class="chat-input-area">
        <input type="text" id="user-input" placeholder="Ask me anything..." />
        <button id="send-button">Send</button>
      </div>
    </div>
    <div class="footer">
    <div class="footer-left-section">
      <a href="{% url 'home' %}" class="footer-link">
        <img class="sesame-logo" src="{% static 'images/sesame-logo.png' %}">
      </a>
      <div class="footer-text">
        &copy; 2025 SesameShop. All rights reserved.
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.min.js" integrity="sha384-VQqxDN0EQCkWoxt/0vsQvZswzTHUVOImccYmSyhJTp7kGtPed0Qcx8rK9h9YEgx+" crossorigin="anonymous"></script>
  <script src="{% static 'js/cart.js' %}"></script>
  <script src="{% static 'js/assistant.js' %}"></script> </body>
</html>